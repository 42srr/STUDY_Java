
```java
import java.io.*;

@FunctionalInterface
interface BufferedReaderProcessor {
    String process(BufferedReader reader) throws IOException;
}

public class FileProcessor {
  
    // ì‹¤í–‰ ì–´ë¼ìš´ë“œ íŒ¨í„´ ë©”ì†Œë“œ
    public String processFile(BufferedReaderProcessor processor) throws IOException {
        try (BufferedReader br = new BufferedReader(new FileReader("data.txt"))) {
            return processor.process(br); // ì‹¤ì œ ìž‘ì—… ìœ„ìž„
        }
    }

    public static void main(String[] args) throws IOException {
        FileProcessor processor = new FileProcessor();

        // 1ì¤„ ì½ê¸°
        String line1 = processor.processFile(br -> br.readLine());
        System.out.println("1ì¤„: " + line1);

        // 2ì¤„ ì½ê¸° (ê°œí–‰ ë¬¸ìž ì¶”ê°€)
        String line2 = processor.processFile(br -> br.readLine() + "\n" + br.readLine());
        System.out.println("2ì¤„:\n" + line2);

        // 3ì¤„ ì½ê¸° (ì•ˆì „í•œ null ì²˜ë¦¬ í¬í•¨)
        String line3 = processor.processFile(br -> {
            StringBuilder sb = new StringBuilder();
            for (int i = 0; i < 3; i++) {
                String line = br.readLine();
                if (line == null) break;
                sb.append(line).append("\n");
            }
            return sb.toString();
        });
        System.out.println("3ì¤„:\n" + line3);
    }
}
```

**êµ¬í˜„ í¬ì¸íŠ¸ ì„¤ëª…**

1. **í•¨ìˆ˜í˜• ì¸í„°íŽ˜ì´ìŠ¤ ì •ì˜**

```java
@FunctionalInterface
interface BufferedReaderProcessor {
    String process(BufferedReader reader) throws IOException;
}
```

* `BufferedReader`ë¥¼ ìž…ë ¥ìœ¼ë¡œ ë°›ì•„ ë¬¸ìžì—´ ë°˜í™˜
* `@FunctionalInterface`ë¡œ ëžŒë‹¤ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ì •ì˜

2. **ì½”ì–´ ë©”ì†Œë“œ êµ¬í˜„**

```java
public String processFile(BufferedReaderProcessor processor) throws IOException {
    try (BufferedReader br = new BufferedReader(new FileReader("data.txt"))) {
        return processor.process(br);
    }
}
```

* ìžì› ìƒì„±/í•´ì œ(Setup/Cleanup) ê³ ì •
* ì‹¤ì œ ìž‘ì—…ì€ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ëœ processorì— ìœ„ìž„

3. **ìœ ì—°í•œ ì‚¬ìš© ì˜ˆì‹œ**

```java
// 1ì¤„ ì½ê¸° (ê¸°ë³¸ ë™ìž‘)
processor.processFile(br -> br.readLine());

// 2ì¤„ ì—°ê²° (+ ê°œí–‰ ë¬¸ìž ì¶”ê°€)
processor.processFile(br -> br.readLine() + "\n" + br.readLine());

// 3ì¤„ ì½ê¸° + null ì•ˆì „ ì²˜ë¦¬
processor.processFile(br -> {
    StringBuilder sb = new StringBuilder();
    for(int i=0; i<3; i++){
        String line = br.readLine();
        if(line == null) break;
        sb.append(line).append("\n");
    }
    return sb.toString();
});
```

4. **ì‹¤í–‰ ê²°ê³¼ ì˜ˆì‹œ**

```
1ì¤„: Hello World!

2ì¤„:
Hello World!
This is Java 8

3ì¤„:
Hello World!
This is Java 8
Execute Around Pattern!
```

ì´ êµ¬í˜„ì€ **OCP(ê°œë°©-íì‡„ ì›ì¹™)** ë¥¼ ì¤€ìˆ˜í•˜ë©°, íŒŒì¼ ì²˜ë¦¬ ë°©ì‹ì„ ë³€ê²½í•  ë•Œ ê¸°ì¡´ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ëžŒë‹¤ í‘œí˜„ì‹ë§Œ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤. ðŸš€
